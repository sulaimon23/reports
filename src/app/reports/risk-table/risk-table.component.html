<section
  class="flex flex-col w-full h-[214px] min-w-80 rounded-2xl border border-gray-200 shadow-sm bg-white"
>
  <!-- Header -->
  <header class="flex justify-between items-center gap-2 px-6 py-3 border-b border-gray-200">
    <h3 id="risk-table-heading" class="text-sm font-normal text-gray-400">Asset</h3>
    <h3 class="text-sm font-normal text-gray-400">Contextual Risk</h3>
  </header>

  <!-- Asset List -->
  <ul class="flex-1 overflow-auto" role="list">
    @for (asset of paginatedAssets(); track asset.id) {
      <li
        class="flex items-center gap-3 px-3 py-2.5 pr-8 border-b border-gray-200 last:border-b-0 hover:bg-gray-50 transition-colors"
        role="listitem"
      >
        <!-- Asset Icon -->
        <div class="w-11 h-11 md:w-6 md:h-6 flex items-center justify-center rounded-md">
          <img
            [src]="'./' + asset.icon + '.svg'"
            [alt]="asset.name + ' icon'"
            class="w-full h-full object-contain"
            aria-hidden="true"
          />
        </div>

        <!-- Asset Info -->
        <div class="flex-1 min-w-0">
          <h4
            class="text-sm md:text-xs font-semibold text-gray-soft-700 truncate mb-0.5"
            [id]="'asset-name-' + asset.id"
          >
            {{ asset.name }}
          </h4>
          <address class="text-xs md:text-[10px] text-gray-500 not-italic">
            {{ asset.ipAddress }}
          </address>
        </div>

        <!-- Risk Badge -->
        <div class="flex-shrink-0">
          <span
            class="inline-block px-4 py-1 md:px-2.5 md:py-0.5 rounded-full text-sm md:text-xs font-bold text-center capitalize min-w-[86px] md:min-w-[60px]"
            [ngClass]="{
              'bg-red-50 text-red-600': asset.riskLevel.toLowerCase() === 'critical',
              'bg-orange-50 text-orange-600':
                asset.riskLevel.toLowerCase() === 'high' ||
                asset.riskLevel.toLowerCase() === 'medium',
              'bg-green-50 text-green-700': asset.riskLevel.toLowerCase() === 'low',
            }"
            role="status"
            [attr.aria-label]="'Risk level: ' + asset.riskLevel"
          >
            {{ asset.riskLevel }}
          </span>
        </div>
      </li>
    }
  </ul>

  <!-- Pagination -->
  @if (shouldShowPagination()) {
    <nav class="flex justify-center items-center h-5 p-4">
      <div class="flex items-center gap-2">
        <button
          class="flex items-center justify-center w-5 h-5 rounded-md border-0 bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
          [disabled]="currentPage() === 1"
          (click)="previousPage()"
          aria-label="Go to previous page"
        >
          <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 16 16">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="1.5"
              d="M10.6667 12L6.33333 8L10.6667 4"
            />
          </svg>
        </button>

        <p class="text-sm text-gray-500 mx-4" aria-live="polite">
          {{ pageInfo() }}
        </p>

        <button
          class="flex items-center justify-center w-5 h-5 rounded-md border-0 bg-white hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
          [disabled]="currentPage() === totalPages()"
          (click)="nextPage()"
          aria-label="Go to next page"
        >
          <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 16 16">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="1.5"
              d="M5.33333 4L9.66667 8L5.33333 12"
            />
          </svg>
        </button>
      </div>
    </nav>
  }
</section>
